/**
 * aspect ratio
 * accepts [style="--aspect-ratio: x/y"]
 * expands if content exceeds container
 * iframe requires some extra styles to fit (because browser defaults)
 * iframe always require a container on browsers that don't support aspect-ratio
 * https://developer.mozilla.org/en-US/docs/Web/CSS/aspect-ratio
 */

/* create aspect ratio */
[class*=aspect-ratio],
[style*=--aspect-ratio] {
  aspect-ratio: var(--aspect-ratio);
}

/* make iframe fit */
iframe[class*=aspect-ratio],
iframe[style*=--aspect-ratio],
[class*=aspect-ratio] > iframe,
[style*=--aspect-ratio] > iframe {
  width: 100%;
  height: 100%;
}

@supports not (aspect-ratio: 1 / 1) {
  /* create aspect ratio */
  [class*=aspect-ratio]::before,
  [style*=--aspect-ratio]::before {
    float: left;
    content: "";
    padding-top: calc(100% / (var(--aspect-ratio)));
  }
  [class*=aspect-ratio]::after,
  [style*=--aspect-ratio]::after {
    display: block;
    content: "";
    clear: both;
  }
  /* make iframe fit */
  [class*=aspect-ratio],
  [style*=--aspect-ratio] {
    position: relative;
  }
  [class*=aspect-ratio] > iframe,
  [style*=--aspect-ratio] > iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
}

.aspect-ratio-1\/1 {
  --aspect-ratio: 1/1;
}
.aspect-ratio-2\/1 {
  --aspect-ratio: 2/1;
}
.aspect-ratio-3\/2 {
  --aspect-ratio: 3/2;
}
.aspect-ratio-4\/3 {
  --aspect-ratio: 4/3;
}
.aspect-ratio-16\/9 {
  --aspect-ratio: 16/9;
}
